<div class="flex flex-col h-full w-full">
  <div
    *ngIf="activePartner"
    #messagesContainer
    class="flex-1 overflow-y-auto mb-4 px-4"
  >
    <ul class="flex flex-col space-y-4">
      <li
        *ngFor="let message of messages"
        [ngClass]="{
          'bg-light-gold text-white self-start': !isCurrentUser(
            message.senderEmail
          ),
          'bg-slate-800 text-gray-300 self-end': isCurrentUser(
            message.senderEmail
          ),
        }"
        class="rounded-xl px-4 py-1 inline-block w-fit"
      >
        <p class="text-lg">{{ message.message }}</p>
        <p class="text-xs opacity-70 mt-1">
          {{ message.timestamp | date: "short" }}
        </p>
      </li>
    </ul>
  </div>
  <div
    *ngIf="!activePartner"
    class="flex-1 flex items-center justify-center text-gray-500"
  >
    Select a chat partner to start messaging
  </div>
</div>
<div *ngIf="activePartner" class="px-4 pb-4">
  <textarea
    #messageInputField
    rows="1"
    [(ngModel)]="messageInput"
    class="w-full text-lg rounded-xl text-gray-300 p-3 border border-gray-300 focus:outline-none focus:border-blue-500 bg-slate-800"
    (keydown.enter)="sendMessage($event)"
    placeholder="Írj egy üzenenet..."
  ></textarea>
</div>
